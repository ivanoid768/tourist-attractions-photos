{"version":3,"sources":["components/MainTitle.js","components/MainMenu.js","components/header.js","components/notices/NoPhotosFound.js","components/gallery.js","components/image.js","utils/cookie_utils.js","components/comment.js","components/commentList.js","components/commentBox.js","components/add_comment.js","request/Axios.conf.js","components/notices/NoSinglePhotoAPI.js","pages/imagePage.js","request/getPhotoById.js","components/About.js","components/content.js","components/footer.js","App.js","serviceWorker.js","common/disqus.js","index.js"],"names":["MainTitle","props","react_default","a","createElement","className","href","src","alt","MainMenu","Link","to","icon","style","fontSize","theme","type","components_header","input","Search","placeholder","onSearch","onChange","size","allowClear","enterButton","NoPhotosFound","text","concat","search","Gallary","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","prev_page","match","params","page","paginationItemRender","bind","assertThisInitialized","photos","length","textAlign","pagination","current","paginationCurrent","pageSize","paginationPerPage","total","paginationTotal","itemRender","list","grid","gutter","xs","sm","md","lg","xl","xxl","dataSource","renderItem","item","Item","source_name","id","card","hoverable","title","getPhotoDescription","backgroundImage","thumbnail_img","onGallaryPageChange","origEl","indexOf","children","Component","components_image","author_link","rel","target","author_name","source_link","border","main_image_link","getCookie","name","matches","document","cookie","RegExp","replace","decodeURIComponent","undefined","setCookie","value","options","expires","d","Date","setTime","getTime","toUTCString","updatedCookie","encodeURIComponent","propName","propValue","Comment","comment","commentData","author","createdAt","raw_message","parent","commentList","comments","map","idx","key","CommentBox","axi","axios","create","baseURL","api_key","method","state","hasThread","thread_id","commentsRequestDone","newCommentPosted","add_comment","threadId","photoId","console","log","push","setState","get","thread","then","resp","data","response","Promise","resolve","forum","catch","err","_this2","getThread","getComments","TextArea","Input","NewComment","isAuthenticated","comment_value","access_token","postComment","createThread","onCommentChange","autosize","minRows","maxRows","cols","onPressEnter","es_button","onClick","AuthorizeRedirect","e","preventDefault","pathname","window","location","path","assign","request","url","identifier","code","self","message","baseQuery","Axios_conf","usplash","fromUnsplash","pexels","fromPexels","pixabay","fromPixabay","query","order_by","headers","common","Authorization","photo_list_name","photo_img_name","total_photos","q","image_type","getPhotos","source","arguments","per_page","qName","defaults","s","result","forEach","photo","img_name","thumb_img","split","reduce","prev","curr","setThumbnail","unifyPhotoInterface","parseInt","total_results","photographer_url","user_id","user","links","html","photographer","pageURL","charAt","toUpperCase","large2x","largeImageURL","urls","regular","NoSinglePhotoAPI","ImagePage","direct_link","getPhoto","commentBox","photoCache","filterePhotos","filter","toLowerCase","s_name","s_m","unsplash","getPhotoById","photoData","onPhotoCacheUpdate","React","About","Content","localStorage","getItem","JSON","parse","onPhotosChange","Switch","Redirect","exact","from","Route","render","gallery","gallary","gallaryHandlers","imagePage","component","phc","setItem","stringify","components_footer","App","prev_search","components_content","g","totalArr","all","get_photos","dataArr","photosArr","mixPhotosFromDiffSources","getTotal","history","len","Math","max","apply","toConsumableArray","arr","mixedPhotos","_loop","i","toString","desc","tags","description","slice","sum","getDesc","Boolean","hostname","pushState","origin","redirectIfDisqusAccessToken","ReactDOM","BrowserRouter","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"glBAGeA,UAAA,SAACC,GAIf,OACCC,EAAAC,EAAAC,cAAA,OAAKC,UAAU,cACdH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,cACdH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,SALT,+DAOPH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,aACdH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,QACdH,EAAAC,EAAAC,cAAA,KAAGE,KAAK,wBACPJ,EAAAC,EAAAC,cAAA,OAAKG,IAAI,wBAAwBC,IAAI,GAAGH,UAAU,eAIpDH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,QACdH,EAAAC,EAAAC,cAAA,KAAGE,KAAK,yBACPJ,EAAAC,EAAAC,cAAA,OAAKG,IAAI,kCAAkCC,IAAI,GAAGH,UAAU,eAG9DH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,QACdH,EAAAC,EAAAC,cAAA,KAAGE,KAAK,2BACPJ,EAAAC,EAAAC,cAAA,OAAKG,IAAI,uBAAuBC,IAAI,GAAGH,UAAU,oCCrBxCI,UAAA,SAACR,GACf,OACCC,EAAAC,EAAAC,cAAA,OAAKC,UAAWJ,EAAMI,WAErBH,EAAAC,EAAAC,cAACM,EAAA,EAAD,CAAMC,GAAG,IAAIN,UAAU,uBACtBH,EAAAC,EAAAC,cAACQ,EAAA,EAAD,CAAMC,MAAO,CAAEC,SAAU,QAAUC,MAAM,SAASC,KAAK,UAExDd,EAAAC,EAAAC,cAACM,EAAA,EAAD,CAAMC,GAAG,SAASN,UAAU,wBAA5B,YCLYY,UAAA,SAAChB,GAAD,OACdC,EAAAC,EAAAC,cAAA,cAECF,EAAAC,EAAAC,cAAA,OAAKC,UAAU,iDACdH,EAAAC,EAAAC,cAACJ,EAAD,OAEDE,EAAAC,EAAAC,cAAA,OAAKC,UAAU,mCACdH,EAAAC,EAAAC,cAACK,EAAD,CAAUJ,UAAU,cACpBH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,eACdH,EAAAC,EAAAC,cAACc,EAAA,EAAMC,OAAP,CACCC,YAAY,uFACZC,SAAUpB,EAAMoB,SAChBC,SAAUrB,EAAMqB,SAChBC,KAAK,QACLC,YAAU,EACVC,aAAW,+DCnBDC,UAAA,SAACzB,GACf,IAAI0B,EAAI,0CAAAC,OAA6C3B,EAAM4B,OAAnD,mCAER,OACC3B,EAAAC,EAAAC,cAAA,OAAKC,UAAU,wBACdH,EAAAC,EAAAC,cAAA,QAAMC,UAAU,wBAAwBsB,MCoH5BG,sBAnHd,SAAAA,EAAY7B,GAAO,IAAA8B,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAJ,IAClBC,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAF,GAAAO,KAAAH,KAAMjC,KAEDqC,UAAYrC,EAAMsC,MAAMC,OAAOC,KAEpCV,EAAKW,qBAAuBX,EAAKW,qBAAqBC,KAA1BX,OAAAY,EAAA,EAAAZ,QAAAY,EAAA,EAAAZ,CAAAD,KALVA,wEASlB,OAAIG,KAAKjC,MAAM4C,QAAUX,KAAKjC,MAAM4C,OAAOC,OAAS,EAIlD5C,EAAAC,EAAAC,cAAA,OAAKS,MAAO,CAAEkC,UAAW,YACxB7C,EAAAC,EAAAC,cAAA,WACCF,EAAAC,EAAAC,cAAC4C,EAAA,EAAD,CACC1B,SAAU,SAACmB,KAGXQ,QAASf,KAAKjC,MAAMiD,kBACpBC,SAAUjB,KAAKjC,MAAMmD,kBACrBC,MAAOnB,KAAKjC,MAAMqD,gBAClBC,WAAYrB,KAAKQ,qBACjBrC,UAAU,oBAEXH,EAAAC,EAAAC,cAACoD,EAAA,EAAD,CACCC,KAAM,CACLC,OAAQ,GAAIC,GAAI,EAAGC,GAAI,EAAGC,GAAI,EAAGC,GAAI,EAAGC,GAAI,EAAGC,IAAK,GAErDC,WAAY/B,KAAKjC,MAAM4C,OAEvBqB,WAAY,SAAAC,GAAI,OACfjE,EAAAC,EAAAC,cAACoD,EAAA,EAAKY,KAAN,KACClE,EAAAC,EAAAC,cAACM,EAAA,EAAD,CAAMC,GAAE,UAAAiB,OAAYuC,EAAKE,YAAjB,KAAAzC,OAAgCuC,EAAKG,KAC5CpE,EAAAC,EAAAC,cAACmE,EAAA,EAAD,CAAMC,WAAS,EAACC,MAAOvE,EAAAC,EAAAC,cAAA,QAAMqE,MAAOC,EAAoBP,IAAQO,EAAoBP,KACnFjE,EAAAC,EAAAC,cAAA,OACCS,MAAO,CACN8D,gBAAe,OAAA/C,OAASuC,EAAKS,cAAd,MAEhBvE,UAAU,qBAOhBH,EAAAC,EAAAC,cAAC4C,EAAA,EAAD,CACCC,QAASf,KAAKjC,MAAMiD,kBACpBC,SAAUjB,KAAKjC,MAAMmD,kBACrBC,MAAOnB,KAAKjC,MAAMqD,gBAClBC,WAAYrB,KAAKQ,qBACjBrC,UAAU,sBAQbH,EAAAC,EAAAC,cAAA,OAAKS,MAAO,CAAEkC,UAAW,YACxB7C,EAAAC,EAAAC,cAAA,WACCF,EAAAC,EAAAC,cAACsB,EAAD,CAAeG,OAAQK,KAAKjC,MAAM4B,uDAUtC,IAAIY,EAAOP,KAAKjC,MAAMsC,MAAMC,OAAOC,KAEnCP,KAAKjC,MAAM4E,oBAAoBpC,gDAM/B,IAAIA,EAAOP,KAAKjC,MAAMsC,MAAMC,OAAOC,KAE/BA,IAASP,KAAKI,YACjBJ,KAAKI,UAAYG,EAEjBP,KAAKjC,MAAM4E,oBAAoBpC,iDAKZA,EAAMzB,EAAM8D,GAEhC,OAAIrC,EAAO,EACG,SAATzB,EAEFd,EAAAC,EAAAC,cAACM,EAAA,EAAD,CAAMC,GAAE,YAAAiB,OAAca,IAASvC,EAAAC,EAAAC,cAAA,OAAKC,UAAU,wBAAwBoC,KAEzB,IAApC,CAAC,OAAQ,QAAQsC,QAAQ/D,GAC5Bd,EAAAC,EAAAC,cAACM,EAAA,EAAD,CAAMC,GAAE,YAAAiB,OAAca,GAAQpC,UAAU,4BAA6ByE,EAAO7E,MAAM+E,UAMxF9E,EAAAC,EAAAC,cAACM,EAAA,EAAD,CAAMC,GAAE,YAAAiB,OAAca,IAAUqC,EAAO7E,MAAM+E,UAIxCF,SA7GYG,cCHPC,UAAA,SAACjF,GACf,OACCC,EAAAC,EAAAC,cAAA,WACCF,EAAAC,EAAAC,cAAA,OAAKC,UAAU,qBACdH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,mBAAf,mBACiBH,EAAAC,EAAAC,cAAA,KAAGE,KAAML,EAAMkF,YAAa9E,UAAU,eAAe+E,IAAI,sBAAsBC,OAAO,UAAWpF,EAAMqF,cAExHpF,EAAAC,EAAAC,cAAA,OAAKC,UAAU,mBAAf,eACaH,EAAAC,EAAAC,cAAA,KAAGC,UAAU,oBAAoBC,KAAML,EAAMsF,YAAaH,IAAI,sBAAsBC,OAAO,UAAUnF,EAAAC,EAAAC,cAAA,SAAIH,EAAMoE,gBAG7HnE,EAAAC,EAAAC,cAAA,OAAKoF,OAAO,IAAInF,UAAU,aAAaG,IAAKP,EAAMwF,gBAAiBlF,IAAKN,EAAMwF,kBACxEvF,EAAAC,EAAAC,cAAA,OAAKC,UAAU,mBAAmBqE,EAAoBzE,iCCf/D,SAASyF,EAAUC,GAClB,IAAIC,EAAUC,SAASC,OAAOvD,MAAM,IAAIwD,OACvC,WAAaJ,EAAKK,QAAQ,+BAAgC,QAAU,aAErE,OAAOJ,EAAUK,mBAAmBL,EAAQ,SAAMM,EAKnD,SAASC,EAAUR,EAAMS,EAAOC,GAG/B,IAAIC,GAFJD,EAAUA,GAAW,IAECC,QAEtB,GAAsB,iBAAXA,GAAuBA,EAAS,CAC1C,IAAIC,EAAI,IAAIC,KACZD,EAAEE,QAAQF,EAAEG,UAAsB,IAAVJ,GACxBA,EAAUD,EAAQC,QAAUC,EAEzBD,GAAWA,EAAQK,cACtBN,EAAQC,QAAUA,EAAQK,eAK3B,IAAIC,EAAgBjB,EAAO,KAF3BS,EAAQS,mBAAmBT,IAI3B,IAAK,IAAIU,KAAYT,EAAS,CAC7BO,GAAiB,KAAOE,EACxB,IAAIC,EAAYV,EAAQS,IACN,IAAdC,IACHH,GAAiB,IAAMG,GAIzBlB,SAASC,OAASc,SCjCJ,SAASI,EAAQ/G,GAE/B,IAAIgH,EAAUhH,EAAMiH,YAEpB,OACChH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,WACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,iBACdH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,kBAAkB4G,EAAQE,OAAOxB,MAChDzF,EAAAC,EAAAC,cAAA,OAAKC,UAAU,sBAAsB4G,EAAQG,YAE9ClH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,mBAAmB4G,EAAQI,aACzCJ,EAAQK,QAAWpH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,kBAClCH,EAAAC,EAAAC,cAAA,gCACAF,EAAAC,EAAAC,cAAA,KAAGE,KAAI,IAAAsB,OAAMqF,EAAQK,OAAOhD,KAAO2C,EAAQK,OAAOhD,iBCZvCiD,EAAA,SAAUtH,GAExB,IAAIuH,EAAWvH,EAAMuH,SAASC,IAAI,SAACR,EAASS,GAC3C,OACCxH,EAAAC,EAAAC,cAAC4G,EAAD,CAASE,YAAaD,EAASU,IAAKD,MAItC,OACCxH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,iBACZmH,IC0IWI,cA7Id,SAAAA,EAAY3H,GAAO,IAAA8B,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAA0F,IAClB7F,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAA4F,GAAAvF,KAAAH,KAAMjC,KAED4H,IAAMC,IAAMC,OAAO,CACvBC,QAAS,8BACTxF,OAAQ,CACPyF,QAAS,oEAEVC,OAAQ,QAeTnG,EAAKoG,MAAQ,CACZX,SAAU,GACVY,WAAW,EACXC,UAAW,MAGZtG,EAAKuG,qBAAsB,EAE3BvG,EAAKwG,iBAAmBxG,EAAKwG,iBAAiB5F,KAAtBX,OAAAY,EAAA,EAAAZ,QAAAY,EAAA,EAAAZ,CAAAD,KA/BNA,wEAoClB,OACC7B,EAAAC,EAAAC,cAAA,OAAKC,UAAU,eACdH,EAAAC,EAAAC,cAACoI,EAAD,CACCC,SAAUvG,KAAKiG,MAAME,UACrBD,UAAWlG,KAAKiG,MAAMC,UACtBM,QAASxG,KAAKjC,MAAMyI,QACpBH,iBAAkBrG,KAAKqG,mBAExBrI,EAAAC,EAAAC,cAACmH,EAAD,CAAaC,SAAUtF,KAAKiG,MAAMX,qDAKpBP,GAChB0B,QAAQC,IAAI,cAAe3B,GAE3B,IAAIO,EAAWtF,KAAKiG,MAAMX,SAC1BA,EAASqB,KAAK5B,GAEd/E,KAAK4G,SAAS,CACbtB,SAAUA,EACVY,WAAW,wCAIDM,GAEX,OAAKxG,KAAKiG,MAAME,UAITnG,KAAK2F,IAAIkB,IAAI,kBAAmB,CACtCvG,OAAQ,CACPwG,OAAQ9G,KAAKiG,MAAME,aAGnBY,KAAK,SAAAC,GAEL,OADAP,QAAQC,IAAI,WAAYM,EAAKC,KAAKC,UAC3BF,EAAKC,KAAKC,WAVXC,QAAQC,SAAQ,qCAefZ,GAET,IAAKxG,KAAKjC,MAAMyI,QACf,OAAOW,QAAQC,SAAQ,GAGxB,IAAI9G,EAAS,CACZ+G,MA1FqB,8BAgGtB,OAHA/G,EAAO,gBAAkBN,KAAKjC,MAAMyI,QACpCC,QAAQC,IAAIpG,GAELN,KAAK2F,IAAIkB,IAAT,uBAAqC,CAC3CvG,OAAQA,IACNyG,KAAK,SAAAC,GAEP,OADAP,QAAQC,IAAI,SAAUM,EAAKC,MACpBD,EAAKC,KAAKC,WAEhBI,MAAM,SAAAC,GACN,IAAIP,IAAOO,EAAIL,SAASD,MAAOM,EAAIL,SAASD,KAAKC,SACjD,GAAIF,IAAkD,GAA1CA,EAAKnE,QAAQ,yBACxB,OAAO,iDAMU,IAAA2E,EAAAxH,KAEpByG,QAAQC,IAAI,qBAAsB1G,KAAKiG,OAElCjG,KAAKiG,MAAMC,WACflG,KAAKyH,UAAUzH,KAAKjC,MAAMyI,SACxBO,KAAK,SAAAD,GACDA,GACHU,EAAKZ,SAAS,CACbV,YAAWY,EAAO1E,GAClB+D,UAAWW,EAAO1E,OAQlBpC,KAAKoG,qBACTpG,KAAK0H,cACHX,KAAK,SAAAzB,GACDA,IACHkC,EAAKpB,qBAAsB,EAC3BoB,EAAKZ,SAAS,CACbtB,SAAUA,cArIQvC,aCFjB4E,UAAaC,IAAbD,UA2JOE,cAxJd,SAAAA,EAAY9J,GAAO,IAAA8B,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAA6H,IAClBhI,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAA+H,GAAA1H,KAAAH,KAAMjC,KAEDkI,MAAQ,CACZ6B,iBAAiB,EACjBC,cAAe,gCAGhBlI,EAAKmI,aAAe,KAEpBnI,EAAK8F,IAAMC,IAAMC,OAAO,CACvBC,QAAS,8BACTxF,OAAQ,CACPyF,QAAS,oEAEVC,OAAQ,SAGTnG,EAAKoI,YAAcpI,EAAKoI,YAAYxH,KAAjBX,OAAAY,EAAA,EAAAZ,QAAAY,EAAA,EAAAZ,CAAAD,KACnBA,EAAKqI,aAAerI,EAAKqI,aAAazH,KAAlBX,OAAAY,EAAA,EAAAZ,QAAAY,EAAA,EAAAZ,CAAAD,KACpBA,EAAKsI,gBAAkBtI,EAAKsI,gBAAgB1H,KAArBX,OAAAY,EAAA,EAAAZ,QAAAY,EAAA,EAAAZ,CAAAD,KApBLA,wEA4BlB,OACC7B,EAAAC,EAAAC,cAAA,WACE8B,KAAKiG,MAAM6B,gBACX9J,EAAAC,EAAAC,cAAA,OAAKC,UAAU,oBACdH,EAAAC,EAAAC,cAACyJ,EAAD,CACCzD,MAAOlE,KAAKiG,MAAM8B,cAClBK,SAAU,CAAEC,QAAS,EAAGC,QAAS,GACjCC,KAAK,KACLnJ,SAAUY,KAAKmI,gBACfK,aAAcxI,KAAKiI,YACnB9J,UAAU,yBAEXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,wBACdH,EAAAC,EAAAC,cAACuK,EAAA,EAAD,CAAQC,QAAS1I,KAAKiI,YAAa9J,UAAU,oBAA7C,UAIDH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,oBACdH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,sBACdH,EAAAC,EAAAC,cAAA,KAAGwK,QAAS1I,KAAK2I,kBAAmBvK,KAAK,IAAID,UAAU,sBAAvD,kBADD,mEASYyK,GACjBA,EAAEC,iBAEF,IAAIC,EAAWC,OAAOC,SAASF,SJ3BhC7E,EI4Bc,wBJ5BE,GAAI,CACnBG,SAAU,II4BVH,EAAU,wBAAyB6E,EAAU,CAAE1E,QAAS,MAAkB6E,KAAM,MAIhFF,OAAOC,SAASE,OAAhB,yDAAAxJ,ODpEc,mECoEd,4IAIA,IAAI0C,EAAKpC,KAAKjC,MAAMyI,QAEpB,OAAOxG,KAAK2F,IAAIwD,QAAQ,CACvBC,IAAK,iBACL9I,OAAQ,CACP0H,aAAchI,KAAKgI,aACnBX,MD7EoB,6BC8EpB9E,MAAOH,EACPiH,WAAYjH,KAIZ2E,KAAK,SAAAC,GACL,OAAsB,GAAlBA,EAAKC,KAAKqC,MACNtC,EAAKC,KAAKC,iDAWpB,IAAIqC,EAAOvJ,KAEX,SAASiI,EAAY9B,GACpB,OAAOoD,EAAK5D,IAAIwD,QAAQ,CACvBC,IAAK,eACL9I,OAAQ,CACP0H,aAAcuB,EAAKvB,aACnBlB,OAAQX,EACRqD,QAASD,EAAKtD,MAAM8B,iBAGpBhB,KAAK,SAAAC,GACL,OAAsB,GAAlBA,EAAKC,KAAKqC,OACbC,EAAKxL,MAAMsI,iBAAiBW,EAAKC,KAAKC,UACtCqC,EAAK3C,SAAS,CACbmB,cAAe,KAETf,EAAKC,KAAKC,YAQrB,OAAKlH,KAAKjC,MAAMmI,UAOR+B,EAAYjI,KAAKjC,MAAMwI,UANvBvG,KAAKkI,eAAenB,KAAK,SAAAG,GAC/B,IAAIf,EAAYe,EAAS9E,GACzB,OAAO6F,EAAY9B,6CAUNyC,GACf5I,KAAK4G,SAAS,CACbmB,cAAea,EAAEzF,OAAOe,oDAMzB,IAAI8D,EAAexE,EAAU,uBAEzBwE,IACHhI,KAAKgI,aAAeA,EACpBhI,KAAK4G,SAAS,CACbkB,iBAAiB,YAjJI/E,aCPnB0G,EAAS,qBAEfC,EAAA,CACCC,QAASC,IACTC,OAAQC,IACRC,QAASC,KAKV,SAASJ,IACR,IACMjE,EAAMC,IAAMC,OAAO,CACxBC,QAAS,yCAETxF,OAAQ,CACP2J,MAAOR,EACPS,SAAU,WAEXC,QAAS,CACRC,OAAQ,CACPC,cAAe,iFAUlB,OALA1E,EAAI2E,gBAAkB,UAEtB3E,EAAI4E,eAAiB,aACrB5E,EAAI6E,aAAe,QAEZ7E,EAGR,SAASmE,IACR,IACMnE,EAAMC,IAAMC,OAAO,CACxBC,QAAS,mCAETxF,OAAQ,CACP2J,MAAK,wBAENE,QAAS,CACRC,OAAQ,CACPC,cATgB,+DAkBnB,OAJA1E,EAAI2E,gBAAkB,SACtB3E,EAAI4E,eAAiB,WACrB5E,EAAI6E,aAAe,gBAEZ7E,EAGR,SAASqE,IACR,IAEMrE,EAAMC,IAAMC,OAAO,CACxBC,QAAS,2BAETxF,OAAQ,CACPmF,IANiB,qCAOjBgF,EAAGhB,EACHiB,WAAY,WASd,OALA/E,EAAI2E,gBAAkB,OAEtB3E,EAAI4E,eAAiB,eACrB5E,EAAI6E,aAAe,QAEZ7E,EAGR,SAASgF,EAAUC,GAAgD,IAE9DzJ,EAFsBZ,EAAwCsK,UAAAjK,OAAA,QAAAoD,IAAA6G,UAAA,GAAAA,UAAA,GAAjC,EAAGC,EAA8BD,UAAAjK,OAAA,QAAAoD,IAAA6G,UAAA,GAAAA,UAAA,GAAnB,GAAIlL,EAAekL,UAAAjK,OAAA,QAAAoD,IAAA6G,UAAA,GAAAA,UAAA,GAAN,KAIxDvK,EAAS,CACZC,KAAMA,EACNuK,SAAUA,GAGX,GAAInL,EAAQ,CAEX,IAEIoL,EAFUH,EAAOI,SAAS1K,OAEV2J,MAAQ,QAAU,IAElCgB,EAAItL,EAAOmE,QAAQ,QAAS,KAEhCxD,EAAOyK,GAAP,GAAArL,OAAmBuL,GAEU,YAAzBL,EAAOL,iBACVjK,EAAOyK,GAASzK,EAAOyK,GAAOjH,QAAQ,OAAQ,MAMhD,OAAO8G,EAAO/D,IAAI,KAAM,CACvBvG,OAAQA,IAEPyG,KAAK,SAAAmE,GAIL,OAFA/J,EAAQ+J,EAAOjE,KAAK2D,EAAOJ,cAEpBU,EAAOjE,KAAK2D,EAAON,mBAE1BvD,KAAK,SAAApG,GAOL,OALAA,EAAOwK,QAAQ,SAAAC,IAalB,SAAsBA,EAAOC,GAE5B,IAEIC,EAFWD,EAASE,MAAM,KAELC,OAAO,SAACC,EAAMC,GACtC,OAAOD,EAAKC,IACVN,GAEHA,EAAM1I,cAAgB4I,EApBnBK,CAAaP,EAAOR,EAAOL,gBAC3BqB,EAAoBR,KAGd,CAAEzK,SAAQQ,MAAO0K,SAAS1K,MAEjCmG,MAAM,SAAAC,GAEN,OADAd,QAAQC,IAAI,kBAAmBa,GACxB,CAAE5G,OAAQ,GAAIQ,MAAO,KAiB/B,SAASyK,EAAoBR,GAOxBA,EAAMU,gBACTV,EAAMjK,MAAQiK,EAAMU,eAEjBV,EAAMW,iBACTX,EAAMnI,YAAcmI,EAAMW,iBAClBX,EAAMY,QACdZ,EAAMnI,YAAc,gCAAkCmI,EAAMY,QACpDZ,EAAMa,MAAQb,EAAMa,KAAKC,OAASd,EAAMa,KAAKC,MAAMC,OAC3Df,EAAMnI,YAAcmI,EAAMa,KAAKC,MAAMC,MAElCf,EAAMgB,aACThB,EAAMhI,YAAcgI,EAAMgB,aAClBhB,EAAMa,MAA+B,iBAAfb,EAAMa,KACpCb,EAAMhI,YAAcgI,EAAMa,KAClBb,EAAMa,MAA+B,iBAAfb,EAAMa,MAAqBb,EAAMa,KAAKxI,OACpE2H,EAAMhI,YAAcgI,EAAMa,KAAKxI,MAE5B2H,EAAMhC,IACTgC,EAAM/H,YAAc+H,EAAMhC,IAClBgC,EAAMiB,QACdjB,EAAM/H,YAAc+H,EAAMiB,QAClBjB,EAAMc,OAASd,EAAMc,MAAMC,OACnCf,EAAM/H,YAAc+H,EAAMc,MAAMC,MAEjC,IAAIhK,EAAciJ,EAAM/H,YAAYhD,MAAM,4CAA4C,GAUtF,OATA+K,EAAMjJ,YAAcA,EAAY2B,QAAQ3B,EAAYmK,OAAO,GAAInK,EAAYmK,OAAO,GAAGC,eAEjFnB,EAAM/M,KAAO+M,EAAM/M,IAAImO,QAC1BpB,EAAM7H,gBAAkB6H,EAAM/M,IAAImO,QAC1BpB,EAAMqB,cACdrB,EAAM7H,gBAAkB6H,EAAMqB,cACtBrB,EAAMsB,MAAQtB,EAAMsB,KAAKC,UACjCvB,EAAM7H,gBAAkB6H,EAAMsB,KAAKC,SAE7BvB,EAIkBxB,IACDE,IACCE,eC1L1B4C,EAAA,SAAgB7O,GAOf,OACCC,EAAAC,EAAAC,cAAA,OAAKC,UAAU,oCACdH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,yCACdH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,oCARV,2DASLH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,mBARA,mCAQf,IACkBH,EAAAC,EAAAC,cAAA,KAAGE,KAAML,EAAMK,KAAM8E,IAAI,sBAAsBC,OAAO,SAAShF,UAAU,oCAAzE,mBCkFP0O,cAxFd,SAAAA,EAAY9O,GAAO,IAAA8B,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAA6M,IAClBhN,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAA+M,GAAA1M,KAAAH,KAAMjC,KAEDkI,MAAQ,CACZmF,MAAO,KACP0B,YAAa,MAGdjN,EAAKkN,SAAWlN,EAAKkN,SAAStM,KAAdX,OAAAY,EAAA,EAAAZ,QAAAY,EAAA,EAAAZ,CAAAD,KAREA,wEAalB,OACC7B,EAAAC,EAAAC,cAAA,WACI8B,KAAKiG,MAAM6G,YAGZ9O,EAAAC,EAAAC,cAAC0O,EAAD,CAAkBxO,KAAM4B,KAAKiG,MAAM6G,cAFpC9O,EAAAC,EAAAC,cAAC8E,EAAUhD,KAAKiG,MAAMmF,OAIvBpN,EAAAC,EAAAC,cAAC8O,EAAD,CAAYxG,QAASxG,KAAKiG,MAAMmF,MAAQpL,KAAKiG,MAAMmF,MAAMhJ,GAAK,2CAKtD,IAGNgJ,EAHM5D,EAAAxH,KACNoC,EAAKpC,KAAKjC,MAAMsC,MAAMC,OAAO8B,GAAGmJ,MAAM,KAAK,GAO/C,GANA9E,QAAQC,IAAI,KAAM1G,KAAKjC,MAAMsC,MAAOL,KAAKjC,MAAMkP,YAG3CjN,KAAKjC,MAAMkP,aACd7B,EAAQpL,KAAKjC,MAAMkP,WAAW7K,IAE3BpC,KAAKjC,MAAM4C,SAAWyK,EAAO,CAChC,IAAI8B,EAAgBlN,KAAKjC,MAAM4C,OAAOwM,OAAO,SAAA/B,GAAK,OAAIA,EAAMhJ,IAAMA,IAElEgJ,EAAQ8B,EAAc,GAAKA,EAAc,GAAK,KAG/C,IAAK9B,EAAO,CAEX,IAAIjJ,EAAcnC,KAAKjC,MAAMsC,MAAMC,OAAO8B,GAAGmJ,MAAM,MACnDpJ,EAAeA,GAAeA,EAAY,GAAMA,EAAY,GAAGiL,cAAgB,OChDnE,SAAsBhL,EAAID,GAgBxC,IAAIkL,EAASlL,EAAYiL,cAErBE,EAAM,CACTC,SAAU,CACT3C,OAAQ,UACRxB,IAAK,oCAENS,OAAQ,CACPe,OAAQ,SACRxB,IAAK,sCAIP,MAAc,YAAViE,GAAkC,UAAVA,EACpB1H,EAAI2H,EAAID,GAAQzC,QAAQzB,QAAQ,CACtCC,IAAKkE,EAAID,GAAQjE,IAAMhH,IAEtB2E,KAAK,SAAAC,GAEL,OAAO4E,EAAoB5E,EAAKC,QAEd,WAAVoG,EACHlG,QAAQC,SAAQ,QADjB,EDcJoG,CAAapL,EAAID,GACf4E,KAAK,SAAA0G,GACL,IAAIrC,EAAQqC,EAERrC,GACH5D,EAAKzJ,MAAM2P,mBAAmBtC,EAAOhJ,GACrCoF,EAAKZ,SAAS,CACbwE,MAAOA,KAGR5D,EAAKZ,SAAS,CACbkG,YAAW,iCAAApN,OAAmC0C,EAAnC,SAQbgJ,GACHpL,KAAKjC,MAAM2P,mBAAmBtC,EAAOhJ,GAElCgJ,GACHpL,KAAK4G,SAAS,CACbwE,MAAOA,gDAMT3E,QAAQC,IAAI,WAAY1G,KAAKiG,OAE7BjG,KAAK+M,wDAILtG,QAAQC,IAAI,YAAa1G,KAAKiG,cAnFR0H,IAAM5K,WEJf6K,iBAAA,SAAC7P,GACf,OACCC,EAAAC,EAAAC,cAAA,OAAKC,UAAU,cACdH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,mBACdH,EAAAC,EAAAC,cAAA,QAAMC,UAAU,cAAhB,MACAH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,qBAAf,mHACiHH,EAAAC,EAAAC,cAAA,KAC/GE,KAAK,wBAD0G,YADjH,KAE4CJ,EAAAC,EAAAC,cAAA,KAAGE,KAAK,uBAAR,WAF5C,KAEuFJ,EAAAC,EAAAC,cAAA,KAAGE,KAAK,sBAAR,UAFvF,kDAG8CJ,EAAAC,EAAAC,cAAA,KAAGE,KAAK,sBAAR,UAH9C,MAMDJ,EAAAC,EAAAC,cAAA,OAAKC,UAAU,mBACdH,EAAAC,EAAAC,cAAA,QAAMC,UAAU,cAAhB,MACAH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,qBAAf,ujBACyGH,EAAAC,EAAAC,cAAA,KAAGE,KAAK,YAAR,YADzG,KAC0IJ,EAAAC,EAAAC,cAAA,KACxIE,KAAK,YADmI,WAD1I,KAE+BJ,EAAAC,EAAAC,cAAA,KAAGE,KAAK,YAAR,UAF/B,uZAG6EJ,EAAAC,EAAAC,cAAA,KAAGE,KAAK,YAAR,UAH7E,MAMDJ,EAAAC,EAAAC,cAAA,OAAKC,UAAU,kBACdH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,gBACfH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,wBACdH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,4BACdH,EAAAC,EAAAC,cAAA,QAAMC,UAAU,cAAhB,MADD,2OAMAH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,4BACdH,EAAAC,EAAAC,cAAA,QAAMC,UAAU,cAAhB,MADD,0xCAMAH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,sBACdH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,0BAAf,cACAH,EAAAC,EAAAC,cAAA,KAAGE,KAAK,8BAA8BD,UAAU,WAAhD,UACAH,EAAAC,EAAAC,cAAA,KAAGE,KAAK,gCAAgCD,UAAU,WAAlD,gBCmDS0P,cAlFd,SAAAA,EAAY9P,GAAO,IAAA8B,EAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAA6N,GAClBhO,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAA+N,GAAA1N,KAAAH,KAAMjC,IAEN,IAAIkP,EAAalE,OAAO+E,aAAaC,QAAQ,cAH3B,OAMjBd,EADGA,EACUe,KAAKC,MAAMhB,GAEX,GAEdpN,EAAKoG,MAAQ,CACZtF,OAAQ,GACRsM,WAAYA,GAGbpN,EAAKqO,eAAiBrO,EAAKqO,eAAezN,KAApBX,OAAAY,EAAA,EAAAZ,QAAAY,EAAA,EAAAZ,CAAAD,KACtBA,EAAK6N,mBAAqB7N,EAAK6N,mBAAmBjN,KAAxBX,OAAAY,EAAA,EAAAZ,QAAAY,EAAA,EAAAZ,CAAAD,KAhBRA,wEAoBV,IAAA2H,EAAAxH,KACR,OACChC,EAAAC,EAAAC,cAAA,OAAKC,UAAU,WAEdH,EAAAC,EAAAC,cAACiQ,EAAA,EAAD,KACCnQ,EAAAC,EAAAC,cAACkQ,EAAA,EAAD,CAAUC,OAAK,EAACC,KAAK,IAAI7P,GAAG,eAC5BT,EAAAC,EAAAC,cAACqQ,EAAA,EAAD,CAAOtF,KAAK,iBAAiBuF,OAAQ,SAAAzQ,GAAK,OAAIC,EAAAC,EAAAC,cAACuQ,EAAD3O,OAAAoJ,OAAA,GACzC1B,EAAKzJ,MAAM2Q,QACXlH,EAAKzJ,MAAM4Q,gBACX5Q,EAHyC,CAI7CmQ,eAAgB1G,EAAK0G,qBAEtBlQ,EAAAC,EAAAC,cAACqQ,EAAA,EAAD,CAAOF,OAAK,EAACpF,KAAK,WAAWuF,OAAQ,SAAAzQ,GAAK,OAAIC,EAAAC,EAAAC,cAACuQ,EAAD3O,OAAAoJ,OAAA,GAAanL,EAAb,CAAoBmQ,eAAgB1G,EAAK0G,qBACvFlQ,EAAAC,EAAAC,cAACqQ,EAAA,EAAD,CAAOtF,KAAK,aAAauF,OAAQ,SAAAzQ,GAAK,OAAIC,EAAAC,EAAAC,cAAC0Q,EAAD9O,OAAAoJ,OAAA,GACrCnL,EADqC,CAEzC4C,OAAQ6G,EAAKzJ,MAAM2Q,QAAQ/N,OAC3B+M,mBAAoBlG,EAAKkG,mBACzBT,WAAYzF,EAAKvB,MAAMgH,iBAExBjP,EAAAC,EAAAC,cAACqQ,EAAA,EAAD,CAAOF,OAAK,EAACpF,KAAK,IAAI4F,UAAW,kBAAO7Q,EAAAC,EAAAC,cAAA,yBACxCF,EAAAC,EAAAC,cAACqQ,EAAA,EAAD,CAAOF,OAAK,EAACpF,KAAK,SAAS4F,UAAWjB,6CAM3BjN,GACdX,KAAK4G,SAAS,CACbjG,OAAQA,+CAISyK,EAAOhJ,GAEzB,IAAI0M,EAAM9O,KAAKiG,MAAMgH,WACrB6B,EAAI1M,GAAMgJ,EAEVrC,OAAO+E,aAAaiB,QAAQ,aAAcf,KAAKgB,UAAUF,IAEzD9O,KAAK4G,SAAS,CACbqG,WAAY6B,IAGbrI,QAAQC,IAAI1G,KAAKiG,MAAMgH,mBAjEHlK,aCJPkM,UAAA,kBACdjR,EAAAC,EAAAC,cAAA,cACCF,EAAAC,EAAAC,cAAA,OAAKC,UAAU,gBAAeH,EAAAC,EAAAC,cAAA,0CAC9BF,EAAAC,EAAAC,cAAA,OAAKC,UAAU,iBACdH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,YACdH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,cACdH,EAAAC,EAAAC,cAAA,KAAGE,KAAK,+BAAR,WAIDJ,EAAAC,EAAAC,cAAA,OAAKC,UAAU,eACdH,EAAAC,EAAAC,cAAA,KAAGE,KAAK,iCACPJ,EAAAC,EAAAC,cAAA,OAAKG,IAAI,wBAAwBC,IAAI,iCCLrC4Q,cAEL,SAAAA,EAAYnR,GAAO,IAAA8B,EAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAkP,GAAA,OAClBrP,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAoP,GAAA/O,KAAAH,KAAMjC,KAIDkI,MAAQ,CACZyI,QAAS,CACR/N,OAAQ,CAAC,IACThB,OAAQ,KACRqB,kBAAmB,EACnBI,gBAAiB,KACjBF,kBAAmB4J,GACnBA,SATa,IAafjL,EAAK6O,QAAU,GAEf7O,EAAKsP,aAAc,EAEnBtP,EAAK6O,QAAQ/L,oBAAsB9C,EAAK8C,oBAAoBlC,KAAzBX,OAAAY,EAAA,EAAAZ,QAAAY,EAAA,EAAAZ,CAAAD,KACnCA,EAAKV,SAAWU,EAAKV,SAASsB,KAAdX,OAAAY,EAAA,EAAAZ,QAAAY,EAAA,EAAAZ,CAAAD,KAChBA,EAAKT,SAAWS,EAAKT,SAASqB,KAAdX,OAAAY,EAAA,EAAAZ,QAAAY,EAAA,EAAAZ,CAAAD,KAtBEA,wEA2BlB,OACC7B,EAAAC,EAAAC,cAAA,OAAKC,UAAU,OACdH,EAAAC,EAAAC,cAAA,WACCF,EAAAC,EAAAC,cAACa,EAAD,CAAQI,SAAUa,KAAKb,SAAUC,SAAUY,KAAKZ,WAChDpB,EAAAC,EAAAC,cAACkR,EAAD,CACCT,gBAAiB3O,KAAK0O,QACtBA,QAAS1O,KAAKiG,MAAMyI,QACpBvQ,UAAU,YAEXH,EAAAC,EAAAC,cAAC+Q,EAAD,oDAMgB1O,GAEnB,IAAIS,EAAoB6K,SAAStL,GAC7B8O,EAAIrP,KAAKiG,MAAMyI,QACnBW,EAAErO,kBAAoBA,EAEtBhB,KAAK4G,SAAS,CACb8H,QAASW,IAGVrP,KAAK2K,UAAUpK,uCAGI,IAAAiH,EAAAxH,KAAVO,EAAUsK,UAAAjK,OAAA,QAAAoD,IAAA6G,UAAA,GAAAA,UAAA,GAAH,EAEZyE,EAAW,GACXxE,EAAW9K,KAAKiG,MAAMyI,QAAQ5D,SAElC3D,QAAQoI,IAAI,CACXC,EAAW7J,EAAIgE,QAASpJ,EAAMuK,EAAU9K,KAAKiG,MAAMyI,QAAQ/O,QAC3D6P,EAAW7J,EAAIkE,OAAQtJ,EAAMuK,EAAU9K,KAAKiG,MAAMyI,QAAQ/O,QAC1D6P,EAAW7J,EAAIoE,QAASxJ,EAAMuK,EAAU9K,KAAKiG,MAAMyI,QAAQ/O,UAE1DoH,KAAK,SAAA0I,GAEL,IAAIC,EAAYD,EAAQlK,IAAI,SAAAtD,GAAI,OAAIA,EAAKtB,SAGzC,OAFA2O,EAAWG,EAAQlK,IAAI,SAAAtD,GAAI,OAAIA,EAAKd,QAE7BqG,EAAKmI,yBAAyBD,KAErC3I,KAAK,SAAApG,GACL,IAAI0O,EAAI7H,EAAKvB,MAAMyI,QACnBW,EAAE1O,OAASA,EAEX,IAAIQ,EAAQqG,EAAKoI,SAASN,EAAUxE,GAChCtD,EAAKvB,MAAMyI,QAAQ/O,SAAW6H,EAAK2H,cACtCE,EAAEjO,gBAAkBD,EACpBqG,EAAK2H,YAAc3H,EAAKvB,MAAMyI,QAAQ/O,QAGvC0P,EAAEnO,kBAAoB4J,EAAWwE,EAAS1O,OAE1C4G,EAAKZ,SAAS,CACb8H,QAASW,uCAMJnL,GACRuC,QAAQC,IAAIxC,EAAOlE,KAAKjC,OACxB,IAAIsR,EAAIrP,KAAKiG,MAAMyI,QAOnBW,EAAE1P,OAASuE,EAEXlE,KAAK4G,SAAS,CACb8H,QAASW,IAE2B,eAAjCrP,KAAKjC,MAAMiL,SAASF,SACvB9I,KAAK2K,YAEDzG,GAAkB,IAATA,EACZlE,KAAKjC,MAAM8R,QAAQlJ,KAAnB,qBAAAjH,OAA6CwE,IAE7ClE,KAAKjC,MAAM8R,QAAQlJ,KAAK,+CAKlBiC,GAGR,GAFAnC,QAAQC,IAAI,sBAAuBkC,GAE/BA,EAAEzF,QAA6B,KAAnByF,EAAEzF,OAAOe,MAAc,CACtCuC,QAAQC,IAAIkC,EAAEzF,OAAOe,OAErB,IAAImL,EAAIrP,KAAKiG,MAAMyI,QACnBW,EAAE1P,OAAS,KAEXK,KAAK4G,SAAS,CACb8H,QAASW,sDAOaK,GAIxB,IAHA,IAAII,EAAMC,KAAKC,IAALC,MAAAF,KAAIjQ,OAAAoQ,EAAA,EAAApQ,CAAQ4P,EAAUnK,IAAI,SAAA4K,GAAG,OAAIA,EAAIvP,WAC3CwP,EAAc,GAFiBC,EAAA,SAI1BC,GACRZ,EAAUvE,QAAQ,SAAAxK,GACbA,EAAO2P,KACN3P,EAAO2P,GAAGlO,IACiB,kBAAlBzB,EAAO2P,GAAGlO,KACrBzB,EAAO2P,GAAGlO,GAAKzB,EAAO2P,GAAGlO,GAAGmO,YAG9BH,EAAYzJ,KAAKhG,EAAO2P,QARlBA,EAAI,EAAGA,EAAIR,EAAKQ,IAAKD,EAArBC,GAcT,OAAOF,kCAGAnO,GAEP,IAAIuO,EAAO,IAQX,OAPIvO,EAAKmH,KAA4B,iBAAbnH,EAAKmH,MAC5BoH,EAAOvO,EAAKmH,IAAI/I,MAAM,wBAAwB,GAAGyD,QAAQ,MAAO,MAC7D7B,EAAKwO,MAA8B,iBAAdxO,EAAKwO,OAC7BD,EAAOvO,EAAKwO,KAAK3M,QAAQ,MAAO,KAC7B7B,EAAKyO,cACRF,EAAOvO,EAAKyO,aAEG,MAATF,EAAeA,EAAOA,EAAKlE,OAAO,GAAGC,cAAgBiE,EAAKG,MAAM,oCAG/DrB,GACR,OAAOA,EAAS9D,OAAO,SAACoF,EAAKzP,GAAN,OAAgByP,EAAMzP,GAAO,UA1KpC4B,aAiLHmM,IAEX1M,GAAsB,IAAI0M,GAAM2B,QACpCpK,QAAQC,IAAI,uCClLQoK,QACW,cAA7B/H,OAAOC,SAAS+H,UAEe,UAA7BhI,OAAOC,SAAS+H,UAEhBhI,OAAOC,SAAS+H,SAAS1Q,MACvB,4DChBN,WAEC,IAAI2H,EAAee,OAAOC,SAASrJ,OAAOU,MAAM,4BAEhD,GAAI2H,EAAc,CAIjB/D,EAAU,sBAFV+D,EAAeA,EAAa,GAEmB,CAAE5D,QAAS,SAE1D,IAAI0E,EAAWtF,EAAU,yBACzBiD,QAAQC,IAAI,wBAAyBoC,GAGjCA,GACHC,OAAO8G,QAAQmB,UAAU,KAAM,KAAMjI,OAAOC,SAASiI,OAASnI,ICTjEoI,GAEAC,IAAS3C,OACRxQ,EAAAC,EAAAC,cAACkT,GAAA,EAAD,KACCpT,EAAAC,EAAAC,cAACqQ,EAAA,EAAD,CAAOtF,KAAK,IAAI4F,UAAWK,KAE1BvL,SAAS0N,eAAe,SFmHrB,kBAAmBC,WACrBA,UAAUC,cAAcC,MAAMzK,KAAK,SAAA0K,GACjCA,EAAaC","file":"static/js/main.221f87f0.chunk.js","sourcesContent":["import React from 'react';\nimport './css/main_title.css'\n\nexport default (props) => {\n\n\tlet title = `Best Tourist Attractions photos from best free photo sites`;\n\n\treturn (\n\t\t<div className=\"main_title\">\n\t\t\t<div className=\"title_cntr\">\n\t\t\t\t<div className=\"title\">{title}</div>\n\t\t\t</div>\n\t\t\t<div className=\"logo_cntr\">\n\t\t\t\t<div className=\"logo\">\n\t\t\t\t\t<a href=\"https://pixabay.com/\">\n\t\t\t\t\t\t<img src=\"/imgs/logo_square.png\" alt=\"\" className=\"logo_img\" />\n\t\t\t\t\t</a>\n\n\t\t\t\t</div>\n\t\t\t\t<div className=\"logo\">\n\t\t\t\t\t<a href=\"https://unsplash.com/\">\n\t\t\t\t\t\t<img src=\"/imgs/tbvbvipimh2camf5nb2q.webp\" alt=\"\" className=\"logo_img\" />\n\t\t\t\t\t</a>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"logo\">\n\t\t\t\t\t<a href=\"https://www.pexels.com/\">\n\t\t\t\t\t\t<img src=\"/imgs/Pexels_log.svg\" alt=\"\" className=\"logo_img\" />\n\t\t\t\t\t</a>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t)\n}","import React from 'react';\nimport { Link } from 'react-router-dom'\nimport { Icon } from 'antd';\nimport './css/main_menu.css'\n\nexport default (props) => {\n\treturn (\n\t\t<div className={props.className}>\n\t\t\t{/* <div className=\"menu_item_cntr\"> */}\n\t\t\t<Link to=\"/\" className=\"menu_item menu_home\">\n\t\t\t\t<Icon style={{ fontSize: '25px' }} theme=\"filled\" type=\"home\" />\n\t\t\t</Link>\n\t\t\t<Link to=\"/about\" className=\"menu_item menu_about\">About</Link>\n\t\t\t{/* </div> */}\n\t\t</div>\n\t)\n}","import React from 'react';\nimport { Link } from 'react-router-dom'\nimport { Input } from 'antd'\nimport MainTitle from './MainTitle'\nimport MainMenu from './MainMenu'\nimport './css/header.css'\n\nexport default (props) => (\n\t<header>\n\t\t{/* <Link to='/gallary/1'></Link> */}\n\t\t<div className=\"header-description-bg-wide header-description\">\n\t\t\t<MainTitle />\n\t\t</div>\n\t\t<div className=\"header-menu-bg-wide header-menu\">\n\t\t\t<MainMenu className=\"main_menu\" />\n\t\t\t<div className=\"search_cntr\">\n\t\t\t\t<Input.Search\n\t\t\t\t\tplaceholder=\"Search specific attractions by name, location etc. E.g. Eiffel Tower, Big Ben, Paris\"\n\t\t\t\t\tonSearch={props.onSearch}\n\t\t\t\t\tonChange={props.onChange}\n\t\t\t\t\tsize=\"large\"\n\t\t\t\t\tallowClear\n\t\t\t\t\tenterButton\n\t\t\t\t></Input.Search>\n\t\t\t</div>\n\n\t\t</div>\n\t</header>\n);","import React from 'react';\nimport './css/no_photos_found.css'\n\nexport default (props) => {\n\tlet text = `No any photo found for search request '${props.search}' :( Try search something else.`;\n\n\treturn (\n\t\t<div className=\"no_photos_found_cntr\">\n\t\t\t<span className=\"no_photos_found_text\">{text}</span>\n\t\t</div>\n\t)\n}","import React, { Component } from 'react'\r\nimport { List, Card, Pagination, Input } from 'antd';\r\nimport { BrowserRouter as Router, Route, Link, Redirect } from 'react-router-dom';\r\nimport { getPhotoDescription } from '../App'\r\nimport NoPhotosFound from './notices/NoPhotosFound'\r\nimport './css/gallary.css'\r\n\r\nclass Gallary extends Component {\r\n\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\r\n\t\tthis.prev_page = props.match.params.page;\r\n\r\n\t\tthis.paginationItemRender = this.paginationItemRender.bind(this)\r\n\t}\r\n\r\n\trender() {\r\n\t\tif (this.props.photos && this.props.photos.length > 0) {\r\n\t\t\t// console.log('Photos: ', this.props.photos);\r\n\r\n\t\t\treturn (\r\n\t\t\t\t<div style={{ textAlign: 'initial' }} >\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<Pagination\r\n\t\t\t\t\t\t\tonChange={(page) => {\r\n\t\t\t\t\t\t\t\t// console.log('Pagination_onChange: ', page);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tcurrent={this.props.paginationCurrent}\r\n\t\t\t\t\t\t\tpageSize={this.props.paginationPerPage}\r\n\t\t\t\t\t\t\ttotal={this.props.paginationTotal}\r\n\t\t\t\t\t\t\titemRender={this.paginationItemRender}\r\n\t\t\t\t\t\t\tclassName=\"pagination-cntr\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<List\r\n\t\t\t\t\t\t\tgrid={{\r\n\t\t\t\t\t\t\t\tgutter: 16, xs: 1, sm: 2, md: 3, lg: 4, xl: 3, xxl: 3,\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tdataSource={this.props.photos}\r\n\t\t\t\t\t\t\t// rowKey={record => record.id}\r\n\t\t\t\t\t\t\trenderItem={item => (\r\n\t\t\t\t\t\t\t\t<List.Item>\r\n\t\t\t\t\t\t\t\t\t<Link to={`/photo/${item.source_name}:${item.id}`}>\r\n\t\t\t\t\t\t\t\t\t\t<Card hoverable title={<span title={getPhotoDescription(item)}>{getPhotoDescription(item)}</span>} >\r\n\t\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbackgroundImage: `url(${item.thumbnail_img})`\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"photo_cntr\">\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t</List.Item>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Pagination\r\n\t\t\t\t\t\t\tcurrent={this.props.paginationCurrent}\r\n\t\t\t\t\t\t\tpageSize={this.props.paginationPerPage}\r\n\t\t\t\t\t\t\ttotal={this.props.paginationTotal}\r\n\t\t\t\t\t\t\titemRender={this.paginationItemRender}\r\n\t\t\t\t\t\t\tclassName=\"pagination-cntr\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div >\r\n\t\t\t)\r\n\r\n\t\t} else {\r\n\t\t\treturn (\r\n\t\t\t\t<div style={{ textAlign: 'initial' }} >\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<NoPhotosFound search={this.props.search} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\t// console.log(this.props);\r\n\r\n\t\tlet page = this.props.match.params.page;\r\n\r\n\t\tthis.props.onGallaryPageChange(page)\r\n\r\n\t}\r\n\r\n\tcomponentDidUpdate() {\r\n\t\t// console.log('Gallary:componentDidUpdate', this.props.match.params.page);\r\n\t\tlet page = this.props.match.params.page;\r\n\r\n\t\tif (page !== this.prev_page) {\r\n\t\t\tthis.prev_page = page;\r\n\t\t\t// this.paginationCurrent = parseInt(page);\r\n\t\t\tthis.props.onGallaryPageChange(page)\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tpaginationItemRender(page, type, origEl) {\r\n\t\t// console.log(page, type, origEl);\r\n\t\tif (page > 0) {\r\n\t\t\tif (type === 'page') {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<Link to={`/gallary/${page}`} ><div className=\"pagination-page-cntr\">{page}</div></Link>\r\n\t\t\t\t);\r\n\t\t\t} else if (['next', 'prev'].indexOf(type) !== -1) {\r\n\t\t\t\treturn <Link to={`/gallary/${page}`} className=\"ant-pagination-item-link\" >{origEl.props.children}</Link>\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\t// console.log(page, type, origEl, origEl.props.children);\r\n\t\t\t\t// origEl.href = `/gallary/${page}`;\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<Link to={`/gallary/${page}`} >{origEl.props.children}</Link>\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\treturn origEl;\r\n\t\t}\r\n\r\n\t}\r\n\r\n\r\n}\r\n\r\nexport default Gallary;","import React from 'react'\nimport './css/image.css'\nimport { getPhotoDescription } from '../App'\n\nexport default (props) => {\n\treturn (\n\t\t<div>\n\t\t\t<div className=\"image_header_cntr\">\n\t\t\t\t<div className=\"img_author_cntr\">\n\t\t\t\t\tPhotographed by <a href={props.author_link} className=\"image_author\" rel=\"noopener noreferrer\" target=\"_blank\" >{props.author_name}</a>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"img_source_cntr\">\n\t\t\t\t\tProvided by <a className=\"image_source_link\" href={props.source_link} rel=\"noopener noreferrer\" target=\"_blank\" ><b>{props.source_name}</b></a>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<img border=\"0\" className=\"main_image\" alt={props.main_image_link} src={props.main_image_link}>\n\t\t\t</img><div className=\"img_description\">{getPhotoDescription(props)}</div>\n\t\t</div>\n\t)\n}","// возвращает cookie с именем name, если есть, если нет, то undefined\nfunction getCookie(name) {\n\tvar matches = document.cookie.match(new RegExp(\n\t\t\"(?:^|; )\" + name.replace(/([\\.$?*|{}\\(\\)\\[\\]\\\\\\/\\+^])/g, '\\\\$1') + \"=([^;]*)\"\n\t));\n\treturn matches ? decodeURIComponent(matches[1]) : undefined;\n}\n\n// устанавливает cookie с именем name и значением value\n// options - объект с свойствами cookie (expires, path, domain, secure)\nfunction setCookie(name, value, options) {\n\toptions = options || {};\n\n\tvar expires = options.expires;\n\n\tif (typeof expires == \"number\" && expires) {\n\t\tvar d = new Date();\n\t\td.setTime(d.getTime() + expires * 1000);\n\t\texpires = options.expires = d;\n\t}\n\tif (expires && expires.toUTCString) {\n\t\toptions.expires = expires.toUTCString();\n\t}\n\n\tvalue = encodeURIComponent(value);\n\n\tvar updatedCookie = name + \"=\" + value;\n\n\tfor (var propName in options) {\n\t\tupdatedCookie += \"; \" + propName;\n\t\tvar propValue = options[propName];\n\t\tif (propValue !== true) {\n\t\t\tupdatedCookie += \"=\" + propValue;\n\t\t}\n\t}\n\n\tdocument.cookie = updatedCookie;\n}\n\n// удаляет cookie с именем name\nfunction deleteCookie(name) {\n\tsetCookie(name, \"\", {\n\t\texpires: -1\n\t})\n}\n\nexport { getCookie }\n\nexport { setCookie }\nexport { deleteCookie }","import React from 'react';\nimport './css/comment.css'\n\nexport default function Comment(props) {\n\n\tlet comment = props.commentData;\n\n\treturn (\n\t\t<li className=\"comment\">\n\t\t\t<div className=\"comment_attrs\">\n\t\t\t\t<div className=\"comment_author\">{comment.author.name}</div>\n\t\t\t\t<div className=\"comment_created_at\">{comment.createdAt}</div>\n\t\t\t</div>\n\t\t\t<div className=\"comment_message\">{comment.raw_message}</div>\n\t\t\t{comment.parent && (<div className=\"comment_replay\">\n\t\t\t\t<b>The replay to the: </b>\n\t\t\t\t<a href={`#${comment.parent.id}`}>{comment.parent.id}</a>\n\t\t\t</div>)}\n\t\t</li>\n\t)\n}","import React from 'react';\nimport Comment from '../components/comment';\nimport './css/comment-list.css'\n\nexport default function (props) {\n\n\tlet comments = props.comments.map((comment, idx) => {\n\t\treturn (\n\t\t\t<Comment commentData={comment} key={idx} ></Comment>\n\t\t)\n\t})\n\n\treturn (\n\t\t<ul className=\"comments_cntr\">\n\t\t\t{comments}\n\t\t</ul>\n\t)\n}","import React, { Component } from 'react';\nimport NewComment from './add_comment';\nimport CommentList from './commentList';\nimport axios from 'axios';\n// import { getCookie } from '../utils/cookie_utils'\n\nconst api_key = 'LF7U6m6DmxNiw3JrNV3Q8PjITsukfXrihnHriEcyQd5nlbJH8VfbHPVI3PEAmHzZ';\nconst disqus_forum_id = 'tourist-attractions-photos';\n\nclass CommentBox extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props)\n\n\t\tthis.axi = axios.create({\n\t\t\tbaseURL: 'https://disqus.com/api/3.0/',\n\t\t\tparams: {\n\t\t\t\tapi_key: 'LF7U6m6DmxNiw3JrNV3Q8PjITsukfXrihnHriEcyQd5nlbJH8VfbHPVI3PEAmHzZ',\n\t\t\t},\n\t\t\tmethod: 'get'\n\t\t})\n\n\t\t// this.access_token = getCookie('disqus_access_token');\n\t\t// this.getComments(props.photoId)\n\t\t// \t.then(comments => {\n\t\t// \t\tconsole.log(comments);\n\t\t// \t\tif (comments) {\n\t\t// \t\t\tthis.setState({\n\t\t// \t\t\t\tcomments: comments\n\t\t// \t\t\t})\n\t\t// \t\t}\n\n\t\t// \t})\n\n\t\tthis.state = {\n\t\t\tcomments: [],\n\t\t\thasThread: false,\n\t\t\tthread_id: null\n\t\t}\n\n\t\tthis.commentsRequestDone = false;\n\n\t\tthis.newCommentPosted = this.newCommentPosted.bind(this)\n\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"comment_box\">\n\t\t\t\t<NewComment\n\t\t\t\t\tthreadId={this.state.thread_id}\n\t\t\t\t\thasThread={this.state.hasThread}\n\t\t\t\t\tphotoId={this.props.photoId}\n\t\t\t\t\tnewCommentPosted={this.newCommentPosted}\n\t\t\t\t/>\n\t\t\t\t<CommentList comments={this.state.comments} />\n\t\t\t</div>\n\t\t)\n\t}\n\n\tnewCommentPosted(comment) {\n\t\tconsole.log('new_comment', comment)\n\n\t\tlet comments = this.state.comments;\n\t\tcomments.push(comment)\n\n\t\tthis.setState({\n\t\t\tcomments: comments,\n\t\t\thasThread: true\n\t\t})\n\t}\n\n\tgetComments(photoId) {\n\n\t\tif (!this.state.thread_id) {\n\t\t\treturn Promise.resolve(false)\n\t\t}\n\n\t\treturn this.axi.get('posts/list.json', {\n\t\t\tparams: {\n\t\t\t\tthread: this.state.thread_id\n\t\t\t}\n\t\t})\n\t\t\t.then(resp => {\n\t\t\t\tconsole.log('comments', resp.data.response);\n\t\t\t\treturn resp.data.response\n\t\t\t})\n\n\t}\n\n\tgetThread(photoId) {\n\n\t\tif (!this.props.photoId) {\n\t\t\treturn Promise.resolve(false)\n\t\t}\n\n\t\tlet params = {\n\t\t\tforum: disqus_forum_id\n\t\t}\n\n\t\tparams[\"thread:ident\"] = this.props.photoId;\n\t\tconsole.log(params);\n\n\t\treturn this.axi.get(`threads/details.json`, {\n\t\t\tparams: params\n\t\t}).then(resp => {\n\t\t\tconsole.log('thread', resp.data);\n\t\t\treturn resp.data.response;\n\t\t})\n\t\t\t.catch(err => {\n\t\t\t\tlet resp = err.response.data ? err.response.data.response : false;\n\t\t\t\tif (resp && resp.indexOf('Unable to find thread') != -1) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t})\n\n\t}\n\n\tcomponentDidUpdate() {\n\n\t\tconsole.log('componentDidUpdate', this.state);\n\n\t\tif (!this.state.hasThread) {\n\t\t\tthis.getThread(this.props.photoId)\n\t\t\t\t.then(thread => {\n\t\t\t\t\tif (thread) {\n\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\thasThread: thread.id ? true : false,\n\t\t\t\t\t\t\tthread_id: thread.id\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\n\t\t\t\t})\n\t\t\t// .catch(console.log)\n\t\t}\n\n\t\tif (!this.commentsRequestDone) {\n\t\t\tthis.getComments()\n\t\t\t\t.then(comments => {\n\t\t\t\t\tif (comments) {\n\t\t\t\t\t\tthis.commentsRequestDone = true;\n\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\tcomments: comments\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t}\n\n\t}\n\n}\n\nexport default CommentBox;\n\nexport { api_key, disqus_forum_id }","import React, { Component } from 'react';\nimport { Input, Button } from 'antd';\nimport axios from 'axios';\nimport { setCookie, getCookie, deleteCookie } from '../utils/cookie_utils'\nimport { api_key, disqus_forum_id } from './commentBox';\nimport './css/new_comment.css'\n\nconst { TextArea } = Input;\n\nclass NewComment extends Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\n\t\tthis.state = {\n\t\t\tisAuthenticated: false,\n\t\t\tcomment_value: 'Please, type comment here...'\n\t\t}\n\n\t\tthis.access_token = null;\n\n\t\tthis.axi = axios.create({\n\t\t\tbaseURL: 'https://disqus.com/api/3.0/',\n\t\t\tparams: {\n\t\t\t\tapi_key: 'LF7U6m6DmxNiw3JrNV3Q8PjITsukfXrihnHriEcyQd5nlbJH8VfbHPVI3PEAmHzZ',\n\t\t\t},\n\t\t\tmethod: 'post'\n\t\t})\n\n\t\tthis.postComment = this.postComment.bind(this);\n\t\tthis.createThread = this.createThread.bind(this);\n\t\tthis.onCommentChange = this.onCommentChange.bind(this);\n\n\t}\n\n\trender() {\n\n\t\t// let must_auth_text = 'You must be authorized to live comments'\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t{this.state.isAuthenticated ? (\n\t\t\t\t\t<div className=\"new_comment_cntr\">\n\t\t\t\t\t\t<TextArea\n\t\t\t\t\t\t\tvalue={this.state.comment_value}\n\t\t\t\t\t\t\tautosize={{ minRows: 2, maxRows: 8 }}\n\t\t\t\t\t\t\tcols=\"50\"\n\t\t\t\t\t\t\tonChange={this.onCommentChange}\n\t\t\t\t\t\t\tonPressEnter={this.postComment}\n\t\t\t\t\t\t\tclassName=\"new_comment_textarea\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<div className=\"new_comment_btn_cntr\">\n\t\t\t\t\t\t\t<Button onClick={this.postComment} className=\"post_comment_btn\">Post</Button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t) : (\n\t\t\t\t\t\t<div className=\"new_comment_cntr\">\n\t\t\t\t\t\t\t<div className=\"auth_redirect_cntr\">\n\t\t\t\t\t\t\t\t<a onClick={this.AuthorizeRedirect} href=\"#\" className=\"authorize_redirect\">Sign In Disqus</a> to leave comments.\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t</div>\n\t\t)\n\t}\n\n\tAuthorizeRedirect(e) {\n\t\te.preventDefault()\n\t\t// console.log(document.cookie);\n\t\tlet pathname = window.location.pathname;\n\t\tdeleteCookie('pre_redirect_pathname')\n\t\tsetCookie('pre_redirect_pathname', pathname, { expires: 24 * 3600 * 1000, path: '/' })\n\t\t// console.log(document.cookie);\n\t\t// debugger\n\n\t\twindow.location.assign(`https://disqus.com/api/oauth/2.0/authorize/?client_id=${api_key}&scope=read,write&response_type=code&redirect_uri=http://localhost:4000/disqus_api/access_token/`)\n\t}\n\n\tcreateThread() {\n\t\tlet id = this.props.photoId;\n\n\t\treturn this.axi.request({\n\t\t\turl: 'threads/create',\n\t\t\tparams: {\n\t\t\t\taccess_token: this.access_token,\n\t\t\t\tforum: disqus_forum_id,\n\t\t\t\ttitle: id,\n\t\t\t\tidentifier: id\n\n\t\t\t}\n\t\t})\n\t\t\t.then(resp => {\n\t\t\t\tif (resp.data.code == 0) {\n\t\t\t\t\treturn resp.data.response;\n\t\t\t\t} else {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t})\n\n\t}\n\n\tpostComment() {\n\n\t\tlet self = this;\n\n\t\tfunction postComment(thread_id) {\n\t\t\treturn self.axi.request({\n\t\t\t\turl: 'posts/create',\n\t\t\t\tparams: {\n\t\t\t\t\taccess_token: self.access_token,\n\t\t\t\t\tthread: thread_id,\n\t\t\t\t\tmessage: self.state.comment_value\n\t\t\t\t}\n\t\t\t})\n\t\t\t\t.then(resp => {\n\t\t\t\t\tif (resp.data.code == 0) {\n\t\t\t\t\t\tself.props.newCommentPosted(resp.data.response)\n\t\t\t\t\t\tself.setState({\n\t\t\t\t\t\t\tcomment_value: ''\n\t\t\t\t\t\t})\n\t\t\t\t\t\treturn resp.data.response;\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\n\t\t\t\t})\n\t\t}\n\n\t\tif (!this.props.hasThread) {\n\t\t\treturn this.createThread().then(response => {\n\t\t\t\tlet thread_id = response.id;\n\t\t\t\treturn postComment(thread_id)\n\n\t\t\t})\n\t\t} else {\n\t\t\treturn postComment(this.props.threadId)\n\t\t}\n\n\n\t}\n\n\tonCommentChange(e) {\n\t\tthis.setState({\n\t\t\tcomment_value: e.target.value\n\t\t})\n\t}\n\n\tcomponentDidMount() {\n\n\t\tlet access_token = getCookie('disqus_access_token')\n\n\t\tif (access_token) {\n\t\t\tthis.access_token = access_token;\n\t\t\tthis.setState({\n\t\t\t\tisAuthenticated: true\n\t\t\t})\n\t\t}\n\n\t}\n\n}\n\nexport default NewComment;","import axios from 'axios';\n\nconst baseQuery = `tourist+attraction`;\n\nexport default {\n\tusplash: fromUnsplash(),\n\tpexels: fromPexels(),\n\tpixabay: fromPixabay()\n}\n\nexport { getPhotos as get_photos };\n\nfunction fromUnsplash() {\n\tconst access_key = '0f349dea9c68a0c54614aa914b044480402bb816fa0cc21820ab83dcaa371b40';\n\tconst axi = axios.create({\n\t\tbaseURL: 'https://api.unsplash.com/search/photos',\n\t\t// baseURL: 'http://localhost:5000/unsplash_tourist_attraction.json',\n\t\tparams: {\n\t\t\tquery: baseQuery, // 'tourist%20attraction'\n\t\t\torder_by: 'popular' // Added for consistancy because Pixabay returns photos ordered by popularity (but there is no info how ordered photos from Pexels)\n\t\t},\n\t\theaders: {\n\t\t\tcommon: {\n\t\t\t\tAuthorization: 'Client-ID ' + access_key\n\t\t\t}\n\t\t}\n\t})\n\n\taxi.photo_list_name = 'results';\n\t// axi.photo_img_name = 'urls.thumb';\n\taxi.photo_img_name = 'urls.small';\n\taxi.total_photos = 'total';\n\n\treturn axi;\n}\n\nfunction fromPexels() {\n\tconst access_key = '563492ad6f9170000100000187d04447c7094a5c96e0dfd7119b3e7a';\n\tconst axi = axios.create({\n\t\tbaseURL: 'https://api.pexels.com/v1/search',\n\t\t// baseURL: 'http://localhost:5000/pexels_tourist_attraction.json',\n\t\tparams: {\n\t\t\tquery: `\"tourist attraction\"` // 'tourist%20attraction'\n\t\t},\n\t\theaders: {\n\t\t\tcommon: {\n\t\t\t\tAuthorization: access_key\n\t\t\t}\n\t\t}\n\t})\n\n\taxi.photo_list_name = 'photos';\n\taxi.photo_img_name = 'src.tiny';\n\taxi.total_photos = 'total_results';\n\n\treturn axi;\n}\n\nfunction fromPixabay() {\n\tconst access_key = '11215352-991ab9a42a02be2db12b85705';\n\n\tconst axi = axios.create({\n\t\tbaseURL: 'https://pixabay.com/api/',\n\t\t// baseURL: 'http://localhost:5000/pixabay_tourist_attraction.json',\n\t\tparams: {\n\t\t\tkey: access_key,\n\t\t\tq: baseQuery, // 'tourist%20attraction'\n\t\t\timage_type: 'photo'\n\t\t}\n\t})\n\n\taxi.photo_list_name = 'hits';\n\t// axi.photo_img_name = 'previewURL';\n\taxi.photo_img_name = 'webformatURL';\n\taxi.total_photos = 'total';\n\n\treturn axi;\n}\n\nfunction getPhotos(source, page = 1, per_page = 20, search = null) {\n\n\tlet total;\n\n\tlet params = {\n\t\tpage: page,\n\t\tper_page: per_page\n\t}\n\n\tif (search) {\n\t\t// console.log(source.defaults)\n\t\tlet sParams = source.defaults.params;\n\t\t// let queryVal = sParams.query || sParams.q;\n\t\tlet qName = sParams.query ? 'query' : 'q';\n\t\t// queryVal = queryVal.replace(/\"$/ig, '')\n\t\tlet s = search.replace(/\\s+/gi, '+');\n\t\t// params[qName] = `${queryVal}+${s}\"`;\n\t\tparams[qName] = `${s}`;\n\n\t\tif (source.photo_img_name == 'src.tiny') {\n\t\t\tparams[qName] = params[qName].replace(/\\+/ig, ' ')\n\t\t}\n\n\t\t// console.log('Search query: ', params[qName]);\n\t}\n\n\treturn source.get(null, {\n\t\tparams: params\n\t})\n\t\t.then(result => {\n\t\t\t//console.log(result);\n\t\t\ttotal = result.data[source.total_photos];\n\n\t\t\treturn result.data[source.photo_list_name];\n\t\t})\n\t\t.then(photos => {\n\n\t\t\tphotos.forEach(photo => {\n\t\t\t\tsetThumbnail(photo, source.photo_img_name)\n\t\t\t\tunifyPhotoInterface(photo)\n\t\t\t})\n\n\t\t\treturn { photos, total: parseInt(total) };\n\t\t})\n\t\t.catch(err => {\n\t\t\tconsole.log('getPhoto:Error ', err)\n\t\t\treturn { photos: [], total: 0 }\n\t\t})\n}\n\nfunction setThumbnail(photo, img_name) {\n\n\tlet img_path = img_name.split('.');\n\n\tlet thumb_img = img_path.reduce((prev, curr) => {\n\t\treturn prev[curr];\n\t}, photo)\n\n\tphoto.thumbnail_img = thumb_img\n\n\treturn photo;\n}\n\nfunction unifyPhotoInterface(photo) {\n\t// let author_link\n\t// let author_name\n\t// let source_link\n\t// let source_name\n\t// let main_image_link\n\n\tif (photo.total_results)\n\t\tphoto.total = photo.total_results;\n\n\tif (photo.photographer_url)\n\t\tphoto.author_link = photo.photographer_url;\n\telse if (photo.user_id)\n\t\tphoto.author_link = 'https://pixabay.com/en/users/' + photo.user_id;\n\telse if (photo.user && photo.user.links && photo.user.links.html)\n\t\tphoto.author_link = photo.user.links.html;\n\n\tif (photo.photographer)\n\t\tphoto.author_name = photo.photographer;\n\telse if (photo.user && typeof (photo.user) == 'string')\n\t\tphoto.author_name = photo.user;\n\telse if (photo.user && typeof (photo.user) == 'object' && photo.user.name)\n\t\tphoto.author_name = photo.user.name;\n\n\tif (photo.url)\n\t\tphoto.source_link = photo.url;\n\telse if (photo.pageURL)\n\t\tphoto.source_link = photo.pageURL; // str2.match(/\\/([^/]+)(?:\\/)$/i)[1]\n\telse if (photo.links && photo.links.html)\n\t\tphoto.source_link = photo.links.html; //  str.match(/photos\\/(.+)(?:\\/|)$/i)[1]\n\n\tlet source_name = photo.source_link.match(/http(?:s|):\\/\\/(?:www.|)([a-zA-Z]+).com/i)[1]\n\tphoto.source_name = source_name.replace(source_name.charAt(0), source_name.charAt(0).toUpperCase());\n\n\tif (photo.src && photo.src.large2x)\n\t\tphoto.main_image_link = photo.src.large2x;\n\telse if (photo.largeImageURL)\n\t\tphoto.main_image_link = photo.largeImageURL;\n\telse if (photo.urls && photo.urls.regular)\n\t\tphoto.main_image_link = photo.urls.regular;\n\n\treturn photo;\n\n}\n\nexport const ax_usplash = fromUnsplash();\nexport const ax_pexels = fromPexels();\nexport const ax_pixabay = fromPixabay();\n\nexport { unifyPhotoInterface }","import React from 'react';\nimport './css/no_single_photo_from_pexels.css'\n\nexport default (props) => {\n\n\tlet text = `Right now we can't request for the photo to the Pixabay`;\n\tlet getThePageText = `To get the photo, please, visit `;\n\n\t//But you always can visit the photo's page on the pexels.com by link down below.`\n\n\treturn (\n\t\t<div className=\"no_single_photo_from_pexels_cntr\">\n\t\t\t<div className=\"no_single_photo_from_pexels_text_cntr\">\n\t\t\t\t<div className=\"no_single_photo_from_pexels_text\">{text}</div>\n\t\t\t\t<div className=\"nspfp_link_cntr\">\n\t\t\t\t\t{getThePageText} <a href={props.href} rel=\"noopener noreferrer\" target=\"_blank\" className=\"no_single_photo_from_pexels_link\">Pixabay.com</a>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t)\n}","import React from 'react'\nimport Image from '../components/image'\nimport NewComment from '../components/add_comment';\nimport getPhotoById from '../request/getPhotoById';\nimport CommentBox from '../components/commentBox';\nimport NoSinglePhotoAPI from '../components/notices/NoSinglePhotoAPI';\n\nclass ImagePage extends React.Component {\n\n\tconstructor(props) {\n\t\tsuper(props)\n\n\t\tthis.state = {\n\t\t\tphoto: null,\n\t\t\tdirect_link: null\n\t\t}\n\n\t\tthis.getPhoto = this.getPhoto.bind(this)\n\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t{(!this.state.direct_link) ? (\n\t\t\t\t\t<Image {...this.state.photo} ></Image>\n\t\t\t\t) : (\n\t\t\t\t\t\t<NoSinglePhotoAPI href={this.state.direct_link} />\n\t\t\t\t\t)}\n\t\t\t\t<CommentBox photoId={this.state.photo ? this.state.photo.id : null} />\n\t\t\t</div>\n\t\t)\n\t}\n\n\tgetPhoto() {\n\t\tlet id = this.props.match.params.id.split(':')[1];\n\t\tconsole.log('id', this.props.match, this.props.photoCache);\n\t\tlet photo;\n\n\t\tif (this.props.photoCache) {\n\t\t\tphoto = this.props.photoCache[id];\n\t\t}\n\t\tif (this.props.photos && !photo) {\n\t\t\tlet filterePhotos = this.props.photos.filter(photo => photo.id == id)\n\n\t\t\tphoto = filterePhotos[0] ? filterePhotos[0] : null;\n\t\t}\n\n\t\tif (!photo) {\n\n\t\t\tlet source_name = this.props.match.params.id.split(':');\n\t\t\tsource_name = (source_name && source_name[0]) ? source_name[0].toLowerCase() : null;\n\n\t\t\tif (source_name) {\n\t\t\t\tgetPhotoById(id, source_name)\n\t\t\t\t\t.then(photoData => {\n\t\t\t\t\t\tlet photo = photoData;\n\n\t\t\t\t\t\tif (photo) {\n\t\t\t\t\t\t\tthis.props.onPhotoCacheUpdate(photo, id)\n\t\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\t\tphoto: photo\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\t\tdirect_link: `https://pixabay.com/en/photos/${id}/`\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t}\n\n\t\t}\n\n\t\tif (photo)\n\t\t\tthis.props.onPhotoCacheUpdate(photo, id)\n\n\t\tif (photo)\n\t\t\tthis.setState({\n\t\t\t\tphoto: photo\n\t\t\t})\n\n\t}\n\n\tcomponentDidMount() {\n\t\tconsole.log('didMount', this.state);\n\n\t\tthis.getPhoto()\n\t}\n\n\tcomponentDidUpdate() {\n\t\tconsole.log('didUpdate', this.state);\n\n\t\t// this.getPhoto()\n\t}\n\n}\n\nexport default ImagePage;","import axi from './Axios.conf'\nimport { unifyPhotoInterface } from './Axios.conf'\n\nexport default function getPhotoById(id, source_name) {\n\n\t// axi.usplash.defaults.params = {\n\n\t// };\n\t// axi.pexels.defaults.params = {};\n\n\t// axi.usplash.defaults.baseURL = 'https://api.unsplash.com/photos/';\n\t// axi.pexels.defaults.baseURL = 'https://api.pexels.com/v1/photos/';\n\n\t// axi.pixabay.defaults.params = {\n\n\t// };\n\n\t// axi.pixabay.defaults.baseURL = '';\n\n\tlet s_name = source_name.toLowerCase();\n\n\tlet s_m = {\n\t\tunsplash: {\n\t\t\tsource: 'usplash',\n\t\t\turl: 'https://api.unsplash.com/photos/'\n\t\t},\n\t\tpexels: {\n\t\t\tsource: 'pexels',\n\t\t\turl: 'https://api.pexels.com/v1/photos/'\n\t\t}\n\t}\n\n\tif (s_name == 'unsplash' || s_name == 'pexels') {\n\t\treturn axi[s_m[s_name].source].request({\n\t\t\turl: s_m[s_name].url + id\n\t\t})\n\t\t\t.then(resp => {\n\t\t\t\t// console.log('unsplash: ', resp.data);\n\t\t\t\treturn unifyPhotoInterface(resp.data);\n\t\t\t})\n\t} else if (s_name == 'pixabay') {\n\t\treturn Promise.resolve(false);\n\t}\n\n\n\n}","import React from 'react';\nimport './css/about.css'\n\nexport default (props) => {\n\treturn (\n\t\t<div className=\"about_cntr\">\n\t\t\t<div className=\"about_lang_cntr\">\n\t\t\t\t<span className=\"about_lang\">EN</span>\n\t\t\t\t<div className=\"about_description\">\n\t\t\t\t\tThe site lets you to search for the best photos of Tourist Attractions from three top free photo stock resouces <a\n\t\t\t\t\t\thref=\"https://unsplash.com\">Unsplash</a>, <a href=\"https://pixabay.com\">Pixabay</a>, <a href=\"https://pexels.com\">Pexels</a>.\n\t\t\t\t\tAlso you can leave comment to some photo via <a href=\"https://disqus.com\">Disqus</a>.\n\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div className=\"about_lang_cntr\">\n\t\t\t\t<span className=\"about_lang\">RU</span>\n\t\t\t\t<div className=\"about_description\">\n\t\t\t\t\tДанный сайт позволяет получить лучшие фотографии мировых достопремечательностей сразу с трёх источников <a href=\"https://\">Unsplash</a>, <a\n\t\t\t\t\t\thref=\"https://\">Pixabay</a>, <a href=\"https://\">Pexels</a>.\n\t\t\t\tА так же позволяет оставлять свое мнение насчёт фотографии с помощью сервиса <a href=\"https://\">Disqus</a>.\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div className=\"about_dev_cntr\">\n\t\t\t\t<div className=\"about_photo\"></div>\n\t\t\t\t<div className=\"about_desc_cont_cntr\">\n\t\t\t\t\t<div className=\"about_dev_description_en\">\n\t\t\t\t\t\t<span className=\"about_lang\">EN</span>\n\t\t\t\t\t\tHi, I'm Ivan. I'm software developer. I have developed many Web-App and Web-Services in last 3 years so I have a\n\t\t\t\t\t\tlot of experience. Programming is my profession my hobby and my passion. Contact me, and I'll bring you ideas to\n\t\t\t\t\t\tlife!\n\t\t\t\t</div>\n\t\t\t\t\t<div className=\"about_dev_description_ru\">\n\t\t\t\t\t\t<span className=\"about_lang\">RU</span>\n\t\t\t\t\t\tПриветствую. Меня зовут Иван. Я разрабатываю Веб-приложения и Веб-сервисы уже более 3-х лет. Программирование для\n\t\t\t\t\t\tменя не только профессия, но и\n\t\t\t\t\t\tмое увлечение. Свяжитесь со мной по приведённым ниже контактам и ваша идея будет вполощена качественно и в срок.\n\t\t\t\t</div>\n\t\t\t\t\t<div className=\"about_dev_contacts\">\n\t\t\t\t\t\t<div className=\"contact contacts_title\">Contacts: </div>\n\t\t\t\t\t\t<a href=\"mailto:ivanoid256@india.com\" className=\"contact\">E-mail</a>\n\t\t\t\t\t\t<a href=\"https://github.com/ivanoid768\" className=\"contact\">Github</a>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t)\n}","import React, { Component } from 'react';\nimport { BrowserRouter as Router, Route, Link, Switch, Redirect } from \"react-router-dom\";\nimport Gallery from './gallery';\nimport ImagePage from '../pages/imagePage';\nimport './css/content.css'\nimport About from './About';\n\nclass Content extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props)\n\n\t\tlet photoCache = window.localStorage.getItem('photoCache')\n\n\t\tif (photoCache)\n\t\t\tphotoCache = JSON.parse(photoCache)\n\t\telse\n\t\t\tphotoCache = {};\n\n\t\tthis.state = {\n\t\t\tphotos: [],\n\t\t\tphotoCache: photoCache\n\t\t}\n\n\t\tthis.onPhotosChange = this.onPhotosChange.bind(this)\n\t\tthis.onPhotoCacheUpdate = this.onPhotoCacheUpdate.bind(this)\n\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"content\">\n\t\t\t\t{/* <h1>Content Body Main</h1> */}\n\t\t\t\t<Switch>\n\t\t\t\t\t<Redirect exact from='/' to='/gallary/1' />\n\t\t\t\t\t<Route path=\"/gallary/:page\" render={props => <Gallery\n\t\t\t\t\t\t{...this.props.gallary}\n\t\t\t\t\t\t{...this.props.gallaryHandlers}\n\t\t\t\t\t\t{...props}\n\t\t\t\t\t\tonPhotosChange={this.onPhotosChange}\n\t\t\t\t\t/>} />\n\t\t\t\t\t<Route exact path=\"/gallary\" render={props => <Gallery {...props} onPhotosChange={this.onPhotosChange} />} />\n\t\t\t\t\t<Route path=\"/photo/:id\" render={props => <ImagePage\n\t\t\t\t\t\t{...props}\n\t\t\t\t\t\tphotos={this.props.gallary.photos}\n\t\t\t\t\t\tonPhotoCacheUpdate={this.onPhotoCacheUpdate}\n\t\t\t\t\t\tphotoCache={this.state.photoCache}\n\t\t\t\t\t/>} />\n\t\t\t\t\t<Route exact path=\"/\" component={() => (<h1>Homepage</h1>)} />\n\t\t\t\t\t<Route exact path=\"/about\" component={About} />\n\t\t\t\t</Switch>\n\t\t\t</div>\n\t\t);\n\t}\n\n\tonPhotosChange(photos) {\n\t\tthis.setState({\n\t\t\tphotos: photos\n\t\t})\n\t}\n\n\tonPhotoCacheUpdate(photo, id) {\n\n\t\tlet phc = this.state.photoCache;\n\t\tphc[id] = photo;\n\n\t\twindow.localStorage.setItem('photoCache', JSON.stringify(phc))\n\n\t\tthis.setState({\n\t\t\tphotoCache: phc\n\t\t})\n\n\t\tconsole.log(this.state.photoCache);\n\n\t}\n\n\t// componentDidMount() {\n\t// \tlet photoCache = window.localStorage.getItem('photoCache')\n\n\t// \tif (photoCache) {\n\t// \t\tphotoCache = JSON.parse(photoCache)\n\n\t// \t\tthis.setState({\n\t// \t\t\tphotoCache: photoCache\n\t// \t\t})\n\t// \t}\n\n\t// }\n\n}\n\nexport default Content;","import React from 'react'\nimport './css/footer.css'\n\nexport default () => (\n\t<footer>\n\t\t<div className=\"developed-by\"><span>Developed by Ivanoid256: </span></div>\n\t\t<div className=\"contacts-cntr\">\n\t\t\t<div className=\"contacts\">\n\t\t\t\t<div className=\"email-cntr\">\n\t\t\t\t\t<a href=\"mailto:ivanoid256@india.com\">\n\t\t\t\t\t\tE-mail\n\t\t\t\t</a>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"github-cntr\">\n\t\t\t\t\t<a href=\"https://github.com/ivanoid768\">\n\t\t\t\t\t\t<img src=\"/imgs/GitHub_Logo.png\" alt=\"github.com/ivanoid256\" />\n\t\t\t\t\t</a>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</footer>\n);","import React, { Component } from 'react';\n// import { Icon } from 'antd';\n// import logo from './logo.svg';\nimport 'antd/dist/antd.css';\nimport './App.css';\nimport Header from './components/header'\nimport Content from './components/content';\nimport Footer from './components/footer'\nimport axi, { get_photos } from './request/Axios.conf'\n\nclass App extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props)\n\n\t\tlet per_page = 9;\n\n\t\tthis.state = {\n\t\t\tgallary: {\n\t\t\t\tphotos: [{}],\n\t\t\t\tsearch: null,\n\t\t\t\tpaginationCurrent: 1,\n\t\t\t\tpaginationTotal: null,\n\t\t\t\tpaginationPerPage: per_page * 3,\n\t\t\t\tper_page: per_page\n\t\t\t}\n\t\t}\n\n\t\tthis.gallary = {}\n\t\t// this.shouldUpdateTotal = true;\n\t\tthis.prev_search = true;\n\n\t\tthis.gallary.onGallaryPageChange = this.onGallaryPageChange.bind(this)\n\t\tthis.onSearch = this.onSearch.bind(this)\n\t\tthis.onChange = this.onChange.bind(this)\n\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"App\">\n\t\t\t\t<div>\n\t\t\t\t\t<Header onSearch={this.onSearch} onChange={this.onChange} ></Header>\n\t\t\t\t\t<Content\n\t\t\t\t\t\tgallaryHandlers={this.gallary}\n\t\t\t\t\t\tgallary={this.state.gallary}\n\t\t\t\t\t\tclassName=\"Content\"\n\t\t\t\t\t></Content>\n\t\t\t\t\t<Footer></Footer>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n\n\tonGallaryPageChange(page) {\n\n\t\tlet paginationCurrent = parseInt(page);\n\t\tlet g = this.state.gallary;\n\t\tg.paginationCurrent = paginationCurrent;\n\n\t\tthis.setState({\n\t\t\tgallary: g\n\t\t})\n\n\t\tthis.getPhotos(page)\n\t}\n\n\tgetPhotos(page = 1) {\n\n\t\tlet totalArr = [];\n\t\tlet per_page = this.state.gallary.per_page;\n\n\t\tPromise.all([\n\t\t\tget_photos(axi.usplash, page, per_page, this.state.gallary.search),\n\t\t\tget_photos(axi.pexels, page, per_page, this.state.gallary.search),\n\t\t\tget_photos(axi.pixabay, page, per_page, this.state.gallary.search)\n\t\t])\n\t\t\t.then(dataArr => {\n\t\t\t\t// console.log(\"dataArr\", dataArr);\n\t\t\t\tlet photosArr = dataArr.map(item => item.photos)\n\t\t\t\ttotalArr = dataArr.map(item => item.total)\n\n\t\t\t\treturn this.mixPhotosFromDiffSources(photosArr)\n\t\t\t})\n\t\t\t.then(photos => {\n\t\t\t\tlet g = this.state.gallary;\n\t\t\t\tg.photos = photos;\n\n\t\t\t\tlet total = this.getTotal(totalArr, per_page)\n\t\t\t\tif (this.state.gallary.search !== this.prev_search) {\n\t\t\t\t\tg.paginationTotal = total;\n\t\t\t\t\tthis.prev_search = this.state.gallary.search;\n\t\t\t\t}\n\n\t\t\t\tg.paginationPerPage = per_page * totalArr.length;\n\n\t\t\t\tthis.setState({\n\t\t\t\t\tgallary: g\n\t\t\t\t})\n\t\t\t\t// this.onPhotosChange(photos)\n\t\t\t})\n\t}\n\n\tonSearch(value) {\n\t\tconsole.log(value, this.props);\n\t\tlet g = this.state.gallary;\n\n\t\t// if (g.search == value)\n\t\t// \tthis.shouldUpdateTotal = true;\n\t\t// else\n\t\t// \tthis.shouldUpdateTotal = false;\n\n\t\tg.search = value;\n\n\t\tthis.setState({\n\t\t\tgallary: g\n\t\t})\n\t\tif (this.props.location.pathname === '/gallary/1') {\n\t\t\tthis.getPhotos()\n\t\t} else {\n\t\t\tif (value && value != '')\n\t\t\t\tthis.props.history.push(`/gallary/1?search=${value}`)\n\t\t\telse\n\t\t\t\tthis.props.history.push('/gallary/1')\n\t\t}\n\n\t}\n\n\tonChange(e) {\n\t\tconsole.log('onInputChangeEvent ', e);\n\n\t\tif (e.target && e.target.value === \"\") {\n\t\t\tconsole.log(e.target.value);\n\n\t\t\tlet g = this.state.gallary;\n\t\t\tg.search = null;\n\n\t\t\tthis.setState({\n\t\t\t\tgallary: g\n\t\t\t})\n\t\t\t// Redirect to page 1\n\t\t\t// this.getPhotos()\n\t\t}\n\t}\n\n\tmixPhotosFromDiffSources(photosArr) {\n\t\tlet len = Math.max(...photosArr.map(arr => arr.length))\n\t\tlet mixedPhotos = [];\n\n\t\tfor (let i = 0; i < len; i++) {\n\t\t\tphotosArr.forEach(photos => {\n\t\t\t\tif (photos[i]) {\n\t\t\t\t\tif (photos[i].id) {\n\t\t\t\t\t\tif (typeof (photos[i].id) !== 'string') {\n\t\t\t\t\t\t\tphotos[i].id = photos[i].id.toString();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tmixedPhotos.push(photos[i])\n\t\t\t\t}\n\t\t\t})\n\n\t\t}\n\n\t\treturn mixedPhotos;\n\t}\n\n\tgetDesc(item) {\n\n\t\tlet desc = ' ';\n\t\tif (item.url && typeof (item.url) == \"string\")\n\t\t\tdesc = item.url.match(/photo\\/([\\w-]+)-\\d+/i)[1].replace(/-/ig, ' ')\n\t\tif (item.tags && typeof (item.tags) == \"string\")\n\t\t\tdesc = item.tags.replace(/,/ig, '');\n\t\tif (item.description)\n\t\t\tdesc = item.description\n\n\t\treturn desc === ' ' ? desc : desc.charAt(0).toUpperCase() + desc.slice(1);\n\t}\n\n\tgetTotal(totalArr) {\n\t\treturn totalArr.reduce((sum, total) => sum + total, 0);\n\t}\n\n}\n\n// className=\"App\"\n\nexport default App;\n\nlet getPhotoDescription = new App().getDesc;\nconsole.log('new Gallary().getDesc');\nexport { getPhotoDescription }","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import { setCookie, getCookie } from '../utils/cookie_utils'\n\nfunction redirectIfDisqusAccessToken() {\n\n\tlet access_token = window.location.search.match(/access_token=([^\\s=&]+)/i);\n\n\tif (access_token) {\n\n\t\taccess_token = access_token[1];\n\n\t\tsetCookie('disqus_access_token', access_token, { expires: 7 * 24 * 3600000 })\n\n\t\tlet pathname = getCookie('pre_redirect_pathname')\n\t\tconsole.log('pre_redirect_pathname', pathname);\n\n\n\t\tif (pathname) {\n\t\t\twindow.history.pushState(null, null, window.location.origin + pathname)\n\t\t}\n\n\t}\n\n}\n\nexport { redirectIfDisqusAccessToken }","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { BrowserRouter as Router, Route } from 'react-router-dom';\nimport * as serviceWorker from './serviceWorker';\nimport { redirectIfDisqusAccessToken } from './common/disqus'\n\nredirectIfDisqusAccessToken()\n\nReactDOM.render((\n\t<Router>\n\t\t<Route path=\"/\" component={App} />\n\t</Router>\n), document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}